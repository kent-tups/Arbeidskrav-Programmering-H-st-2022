<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Landsbysimulator 2022</title>
    <!-- Du trenger ikke gjøre noe med CSS-koden! -->
    <link rel="stylesheet" href="css-skal-ikke-roeres/index.css">
</head>
<body>

    <div id="container">     
        
        <div id="info-div">
            <div id="life-bar-box">
                <p id="life-bar">300hp</p><!-- Dette er selve livet (grønne baren). -->
            </div>

            <!-- Denne p-tagen inneholder informasjon om hvor mye tre og metall man har. -->
            <p id="material-info">Treverk: 0 enheter. Metall: 0 enheter. Antall bygninger: 0. Styrke: 10</p>
        </div>


        <!-- Knappemenyen -->
        <div id="button-menu">
            <button id="buy-building-1-btn"><img src="images/building-1.png"><p>Kjøp (50 treverk, 10 metall)</p></button> 
            <button id="buy-building-2-btn"><img src="images/building-3.png"><p>Kjøp (150 treverk, 30 metall)</p></button>            
            <button id="buy-sword-btn"><img id="sword" src="images/sword.png"><p>Kjøp sverd (200 metall)</p></button>
        </div>        

        <img id="warrior-1" src="images/warrior.png">

        <!-- Her legger man til bilder av bygninger. -->
        <div id="building-div"></div>    


        <!-- Her legger man til monstre (cute-wolfman.png). -->
        <div id="monster-div"></div>


        <!-- Denne metallgruven skal man kunne klikke på for å få metall -->
        <img id="metal-mine" src="images/metal-mine.png">


        <!-- Disse trærne skal man kunne klikke på for å få treverk for å bygge hus. -->                
        <img id="tree-3" src="images/tree.png" alt="">
        <img id="tree-2" src="images/tree.png" alt="">
        <img id="tree-1" src="images/tree.png" alt="">

    </div><!-- end container-->


    <!-- Her skrives det ut informasjon om hva brukeren gjør og hva som skjer. -->
    <div id="output-div">
        <p> Event Log </p>
    </div>
    
    <script>

        var outputDiv = document.getElementById("output-div")
        var metalMine = document.getElementById("metal-mine")
        var materialInfoDiv = document.getElementById("material-info")
        var buildingDiv = document.getElementById("building-div")
        var monsterDiv = document.getElementById("monster-div")
        antallbygninger = 0
        var clicker = 0;
        

        var metal = 0;
        var metalGather = 10;

        metalMine.onclick = function getMetal(){
            clicker++;
            metal = metal += metalGather;
            outputDiv.innerHTML = null;
            materialInfoDiv.innerHTML = `
            <p> Treverk: ${trees} enheter. Metall: ${metal} enheter. 
                Antall bygninger: ${antallbygninger}. Styrke: 0. Clicks ${clicker} 
            </p>`;
            outputDiv.innerHTML += `<p> Du har fått 10 metall!</p>`;
            }

            /* trees var's start */
        var showTrees1 = document.getElementById("tree-1");
        var showTrees2 = document.getElementById("tree-2");
        var showTrees3= document.getElementById("tree-3");

        var trees = 0;
        var amountOfTrees = 25;
        // tree var's end

        // start of treetekstDiv
        function treeTekstDiv(){
            outputDiv.innerHTML = null
            outputDiv.innerHTML += `<p> Du har fått 25 Treverk!</p>`
            materialInfoDiv.innerHTML = `
            <p> Treverk: ${trees} enheter. Metall: ${metal} enheter. 
                Antall bygninger: ${antallbygninger}. Styrke: 10. Clicks ${clicker} 
            </p>`
        }
        // end of treetekstDiv

        // start of getTrees function

        treeClicks = 0;
        function getTrees(){
            if(this.id === showTrees1, showTrees2, showTrees3){
                trees = trees += amountOfTrees;
                treeTekstDiv();
                clicker = clicker + 1;
                treeClicks++;
            }
        }

        
        // start of buying buttons
        var buyBuilding1Btn = document.getElementById("buy-building-1-btn")
        building1MetalPrice = 10;
        building1TreePrice = 50;

        buyBuilding1Btn.onclick = function addBuilding1(){
            if ( metal >= building1MetalPrice, trees >= building1TreePrice ){
                antallbygninger++;
                clicker++;
                metal = metal - building1MetalPrice;
                trees = trees - building1TreePrice;
                buildingDiv.innerHTML += `<img src="images/building-1.png"> `;
                materialInfoDiv.innerHTML = `<p> 
                    Treverk: ${trees} enheter. Metall: ${metal} enheter. 
                    Antall bygninger: ${antallbygninger}. Styrke: 10. Clicks ${clicker} 
                </p>`;
                outputDiv.innerHTML += `<p>Du har kjøpt en bygning!</p> `;
            }else{
                alert("Du har ikke nok ressurser!")
            }
        }
        // end 

        // function stylebuilding1(){
        //     building1Div.style.height = "200px";
        // }
        // stylebuilding1();

        // end trees function
        //  START EVENTS
        showTrees1.onclick = getTrees;
        showTrees2.onclick = getTrees;
        showTrees3.onclick = getTrees;
        // END EVENTS

    </script>
</body>
</html>